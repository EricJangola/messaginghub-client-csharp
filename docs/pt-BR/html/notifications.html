<h1>
<a id="user-content-notifica+º+¦es" class="anchor" href="#notifica%C3%A7%C3%B5es" aria-hidden="true"><span class="octicon octicon-link"></span></a>Notifica+º+¦es</h1>

<p>O cliente permite que voc+¬ envie e receba notifica+º+¦es atrav+¬s do Messaging Hub.</p>

<h2>
<a id="user-content-recebendo-notifica+º+¦es" class="anchor" href="#recebendo-notifica%C3%A7%C3%B5es" aria-hidden="true"><span class="octicon octicon-link"></span></a>Recebendo Notifica+º+¦es</h2>

<p>Para receber uma notifica+º+úo, registre um receptor da seguinte forma:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">MyNotificationReceiver</span> : <span class="pl-k">NotificationReceiverBase</span>
{
    <span class="pl-k">public</span> <span class="pl-k">override</span> <span class="pl-k">async</span> Task <span class="pl-en">ReceiveAsync</span>(<span class="pl-k">Notification</span> <span class="pl-smi">notification</span>)
    {
        <span class="pl-c">// Escreve a notifica+º+úo recebida no console</span>
        Console.WriteLine(notification.ToString());
    }
}

client.AddNotificationReceiver(<span class="pl-k">new</span> MyNotificationReceiver());</pre></div>

<p>Tamb+¬m +¬ poss+¡vel passar um factory method para construir o receptor:</p>

<div class="highlight highlight-source-cs"><pre>client.AddNotificationReceiver(() =&gt; <span class="pl-k">new</span> MyNotificationReceiver());</pre></div>

<p>E voc+¬ pode especificar um <code>event type</code> para filtrar suas mensagens</p>

<div class="highlight highlight-source-cs"><pre>client.AddNotificationReceiver(() =&gt; <span class="pl-k">new</span> MyNotificationReceiver(), Event.Received);</pre></div>

<h2>
<a id="user-content-enviando-notifica+º+¦es" class="anchor" href="#enviando-notifica%C3%A7%C3%B5es" aria-hidden="true"><span class="octicon octicon-link"></span></a>Enviando Notifica+º+¦es</h2>

<p>Para enviar uma notifica+º+úo, voc+¬ pode usar o seguinte m+¬todo:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">var</span> notification = <span class="pl-k">new</span> Notification
{
    To = Node.Parse(<span class="pl-s"><span class="pl-pds">"</span>user<span class="pl-pds">"</span></span>),
    Event = Event.Received
};

<span class="pl-k">await</span> client.SendNotificationAsync(notification);</pre></div>

<p>Ou voc+¬ pode usar um destes m+¬todos de extens+úo para construir e enviar sua notifica+º+úo:</p>

<div class="highlight highlight-source-cs"><pre><span class="pl-k">await</span> client.SendNotificationAsync(message.ToReceivedNotification());

<span class="pl-k">await</span> client.SendNotificationAsync(message.ToConsumedNotification());

<span class="pl-k">await</span> client.SendNotificationAsync(message.ToFailedNotification());

<span class="pl-k">await</span> client.SendNotificationAsync(message.ToNotification(Event.Received));</pre></div>

<p><a href="./index.html">Retornar ao +ìndice</a></p>

